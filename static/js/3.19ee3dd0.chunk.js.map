{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Respondent/Respondent.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/Respondent/Respondent.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","redux/dialogs/selector.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","Respondent","id","owner","avatar","name","path","useRouteMatch","className","classes","respondent","to","src","alt","Message","message","message_own","undefined","DialogsReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","placeholder","component","Textarea","validate","required","maxLength30","type","Dialogs","dialogsPage","messagesData","dialogsData","friends","sendMessage","messagesElements","map","ownerId","find","dialogsElements","dialogs","respondents","messages","newMessage","formData","getDialogsPageState","state","methods","compose","connect","getFriendsState"],"mappings":"+GACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,SAAW,0BAA0B,WAAa,8B,oBCAlJD,EAAOC,QAAU,CAAC,WAAa,iC,oBCA/BD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,+B,sHCepDC,EAZI,SAAC,GAAuC,IAApCC,EAAmC,EAAnCA,GAAmC,IAA/BC,MAASC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,KAClCC,EAASC,cAATD,KACR,OACE,qBAAKE,UAAYC,IAAQC,WAAzB,SACE,eAAC,IAAD,CAASC,GAAE,UAAOL,EAAP,YAAiBJ,GAA5B,UACE,qBAAKU,IAAMR,EAASS,IAAI,wBACtBR,Q,kBCGKS,EAVC,SAAC,GAA0C,IAAvCC,EAAsC,EAAtCA,QAAsC,IAA7BZ,MAASD,EAAoB,EAApBA,GAAIE,EAAgB,EAAhBA,OAExC,OACE,sBAAKI,UAAS,UAAOC,IAAQM,QAAf,YAAmC,IAAPb,EAAWO,IAAQO,iBAAcC,GAA3E,UACE,qBAAKL,IAAMR,EAASS,IAAI,wBACtBE,M,kCCYFG,EAAmBC,YAAW,CAClCC,KAAM,cADiBD,EAZL,SAAC,GAAwB,IAArBE,EAAoB,EAApBA,aACtB,OACE,uBAAMC,SAAWD,EAAjB,UACE,cAACE,EAAA,EAAD,CAAOlB,KAAK,aACLmB,YAAY,qBACZC,UAAYC,IACZC,SAAW,CAACC,IAAUC,OAC7B,wBAAQC,KAAK,SAAb,wBAwDSC,EA/CC,SAAC,GAA4E,IAAD,IAAxEC,YAAeC,EAAyD,EAAzDA,aAAcC,EAA2C,EAA3CA,YAAeC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,YAEjEC,EAAmBJ,EAAaK,KAAK,YAAiC,IACtEnC,EADyCoC,EAA4B,EAA5BA,QAASrC,EAAmB,EAAnBA,GAAIa,EAAe,EAAfA,QAU1D,OAPEZ,EADe,IAAZoC,EACK,CACNrC,GAAI,EACJE,OAAQ,mKAGF+B,EAAQK,MAAM,qBAAItC,KAAiCqC,KAG3D,6BACE,cAAC,EAAD,CAASxB,QAAUA,EAAUZ,MAAQA,KAD7BD,MAMRuC,EAAkBP,EAAYI,KAAK,YAA8B,IAA1BpC,EAAyB,EAAzBA,GAAIqC,EAAqB,EAArBA,QAASlC,EAAY,EAAZA,KAClDF,EAAQgC,EAAQK,MAAM,qBAAItC,KAAiCqC,KACjE,OACE,6BACE,cAAC,EAAD,CAAYlC,KAAOA,EAAOH,GAAKA,EAAKC,MAAQA,KADpCD,MAUd,OACE,0BAASM,UAAYC,IAAQiC,QAA7B,UACE,oBAAIlC,UAAYC,IAAQkC,YAAxB,SACIF,IAEJ,oBAAIjC,UAAYC,IAAQmC,SAAxB,SACIP,IAEJ,qBAAK7B,UAAYC,IAAQoC,WAAzB,SACE,cAAC3B,EAAD,CAAkBI,SAbE,SAAEwB,GAC1BV,EAAaU,Y,gBCrDJC,EAAsB,SAAEC,GAAF,OAAaA,EAAMhB,a,SCchDiB,EAAU,CACdb,iBAGac,sBACbC,aAZsB,SAAEH,GACxB,MAAO,CACLhB,YAAae,EAAqBC,GAClCb,QAASiB,YAAiBJ,MASFC,GADbC,CAEZnB","file":"static/js/3.19ee3dd0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2C164\",\"respondents\":\"Dialogs_respondents__1cBz0\",\"messages\":\"Dialogs_messages__1K9Jm\",\"newMessage\":\"Dialogs_newMessage__2UK0Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"respondent\":\"Respondent_respondent__2MJ2l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__1W5C4\",\"message_own\":\"Message_message_own__1qNzO\"};","import React from 'react';\r\nimport classes from './Respondent.module.css';\r\nimport { NavLink, useRouteMatch } from 'react-router-dom';\r\n\r\nconst Respondent = ( { id, owner: { avatar, name } } ) => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <div className={ classes.respondent }>\r\n      <NavLink to={ `${ path }/${ id }` }>\r\n        <img src={ avatar } alt=\"respondent's avatar\"/>\r\n        { name }\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Respondent;\r\n","import React from 'react';\r\nimport classes from './Message.module.css';\r\n\r\nconst Message = ( { message, owner: { id, avatar } } ) => {\r\n\r\n  return (\r\n    <div className={ `${ classes.message } ${ id === 1 ? classes.message_own : undefined }` }>\r\n      <img src={ avatar } alt=\"respondent's avatar\"/>\r\n      { message }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport classes from './Dialogs.module.css';\r\nimport Respondent from './Respondent/Respondent';\r\nimport Message from './Message/Message';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Textarea } from '../common/FormsControls/FormsControls';\r\nimport { maxLength30, required } from '../../utils/validators';\r\n\r\nconst DialogsForm = ( { handleSubmit } ) => {\r\n  return (\r\n    <form onSubmit={ handleSubmit }>\r\n      <Field name=\"newMessage\"\r\n             placeholder=\"Write your message\"\r\n             component={ Textarea }\r\n             validate={ [required, maxLength30] }/>\r\n      <button type=\"submit\">Send</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst DialogsReduxForm = reduxForm( {\r\n  form: 'newMessage',\r\n} )( DialogsForm );\r\n\r\nconst Dialogs = ( { dialogsPage: { messagesData, dialogsData }, friends, sendMessage } ) => {\r\n\r\n  const messagesElements = messagesData.map( ( { ownerId, id, message } ) => {\r\n    let owner;\r\n    if ( ownerId === 1 ) {\r\n      owner = {\r\n        id: 1,\r\n        avatar: 'https://sun3-12.userapi.com/impf/c850220/v850220643/1cf89f/09Ze66DlRZ8.jpg?size=200x0&quality=96&crop=0,0,1440,2160&sign=f5a0c1a46079ef18be3b6f634672bd5d&ava=1',\r\n      };\r\n    } else {\r\n      owner = friends.find( ( { id: friendId } ) => friendId === ownerId );\r\n    }\r\n    return (\r\n      <li key={ id }>\r\n        <Message message={ message } owner={ owner }/>\r\n      </li>\r\n    );\r\n  } );\r\n\r\n  const dialogsElements = dialogsData.map( ( { id, ownerId, name } ) => {\r\n    const owner = friends.find( ( { id: friendId } ) => friendId === ownerId );\r\n    return (\r\n      <li key={ id }>\r\n        <Respondent name={ name } id={ id } owner={ owner }/>\r\n      </li>\r\n    );\r\n  } );\r\n\r\n  const handleSendMessage = ( formData ) => {\r\n    sendMessage( formData );\r\n  };\r\n\r\n  return (\r\n    <section className={ classes.dialogs }>\r\n      <ul className={ classes.respondents }>\r\n        { dialogsElements }\r\n      </ul>\r\n      <ul className={ classes.messages }>\r\n        { messagesElements }\r\n      </ul>\r\n      <div className={ classes.newMessage }>\r\n        <DialogsReduxForm onSubmit={ handleSendMessage }/>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n","export const getDialogsPageState = ( state ) => state.dialogsPage;\r\n","import { sendMessage } from '../../redux/dialogs/reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { getDialogsPageState } from '../../redux/dialogs/selector';\r\nimport { getFriendsState } from '../../redux/friends/selector';\r\n\r\nconst mapStateToProps = ( state ) => {\r\n  return {\r\n    dialogsPage: getDialogsPageState( state ),\r\n    friends: getFriendsState( state ),\r\n  };\r\n};\r\n\r\nconst methods = {\r\n  sendMessage,\r\n};\r\n\r\nexport default compose(\r\n  connect( mapStateToProps, methods ),\r\n)( Dialogs );\r\n"],"sourceRoot":""}